{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <div class="card p-4">
    <h3>{% if event %}Editar esdeveniment{% else %}Crear esdeveniment{% endif %}</h3>
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      {{ form.non_field_errors }}
      <div class="mb-3">
        <label class="form-label">Títol</label>
        {{ form.title }}
        {{ form.title.errors }}
      </div>
      <div class="mb-3">
        <label class="form-label">Descripció</label>
        {{ form.description }}
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">Categoria</label>
          {{ form.category }}
        </div>
        <div class="col-md-6 mb-3">
          <label class="form-label">Data i hora</label>
          {{ form.scheduled_date }}
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Thumbnail</label><br>
        {% if event and event.thumbnail %}
          <img src="{{ event.thumbnail.url }}" style="max-width:180px;" class="mb-2">
        {% endif %}
        {{ form.thumbnail }}
      </div>
      <div class="mb-3">
        <label class="form-label">Max espectadors</label>
        {{ form.max_viewers }}
      </div>
      <div class="mb-3">
        <label class="form-label">Tags</label>
        {{ form.tags }}
      </div>
      <div class="mb-3">
        <label class="form-label">URL streaming (YouTube/Twitch)</label>
        {{ form.stream_url }}
      </div>
      <button class="btn btn-primary" type="submit">Desar</button>
      <a href="{% url 'events:event_list' %}" class="btn btn-secondary ms-2">Cancel·lar</a>
    </form>
  </div>
</div>
{% endblock %}
